<!doctype html>
<head>
	<meta charset="utf-8">
	<link href="css/normalize.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<script src="js/jquery-1.9.1.js"></script>
    <script src="js/handlebars-1.0.0.js"></script>
	<script src="js/ember_debug.js"></script>
	<script src="js/ember-data.js"></script>
	<script src="js/selector.js"></script>
	<script src="js/app.js"></script>
</head>
<body>	

<!-- Main template -->
<script type="text/x-handlebars">
	<div id="toolbar">
		<div id="annotations_container">
	    	{{outlet}}
		</div>
	</div>
	<div id="scraped-doc">
		<iframe id="scraped-doc-iframe" src="hoffman.html"> </iframe>
		<canvas id="infocanvas"></canvas>
		<div id="hoveredInfo"></div>
	</div>
</script>


<!-- Annotations list -->
<script type="text/x-handlebars" id="annotations">
       <h3>Annotations for template default</h3>
	   <hr/>
	   {{#each model}} 
	      	<div class="annotation">
				<div class="annotation-internal">
					<span class="annotation_name" {{action "editAnnotation" this}}>{{name}}</span>
			   	 	<button class="button delete-button" {{action "deleteAnnotation" this}}>X</button>
				</div> 
			</div> 
	   {{else}}
	   		No annotations have been defined yet.
	   {{/each}}
	   <hr/>
	   {{my-button action="addAnnotation" label="+"}}
</script>


<!-- Edit annotation template -->
<script type="text/x-handlebars" id="annotation">
	<h3>Edit annotation</h3>
	{{input type="text" value=name id="annotation_name"}}
	{{#if path}}
		<div class="uniquePath">
			<p><strong>Current selection unique CSS path:</strong></p>
			<p>{{path}}</p>
			<hr/>
		</div>
	{{else}}
		<p>Please select an element from the document.</p>
	{{/if}}
	{{#each mappedAttributes}}
		<p class="elementAttribute">{{view ASTool.ElemAttributeView attribute=this mapped=true}}</p>
	{{/each}}
	{{#each unmappedAttributes}}
		<p class="elementAttribute">{{view ASTool.ElemAttributeView attribute=this}}</p>
	{{/each}}
	<button class="button" {{action 'doneEditing' this}}>Done</button>
</script>


<!-- Items list -->
<script type="text/x-handlebars" id="items">
	{{#if mappingAttribute}}
		<h3>Choose an item field to map "{{mappingAttribute.name}}"</h3>
	{{else}}
		<h3>Items</h3>
	{{/if}}
	<hr/>
	{{#each model}}
		{{view ASTool.ItemView item=this
  							   mappingAttribute=controller.mappingAttribute}}
 	{{else}}
 		No items have been defined yet.
 	{{/each}}
	<hr/>
	{{my-button action="addItem" label="+"}}
</script>


<!-- Button component -->
<script type="text/x-handlebars" id="components/my-button">
      <button class="button">{{label}}</button>
</script>


<!-- Attribute view -->
<script type="text/x-handlebars" id="elem-attribute">
	<p>
		<span class="elementAttributeName">{{view.attribute.name}}
			<button class="button map-button" {{action "mapAttribute" view.attribute}}> > </button>
		</span>
		<span><strong>
		{{#if view.mapped}}
			<span class="mapping">
			    currently:
				{{view.attribute.mappedItem}}.
				{{view.attribute.mappedField}}
			</span>
		{{/if}}
		</span></strong>
	</p>
	<p class="elementAttributeValue">{{trim view.attribute.value}}</p>
	<hr/>
</script>


<!-- Item field template -->
<script type="text/x-handlebars" id="item-field">
	{{name}} {{type}}
</script>


<!-- Item View -->
<script type="text/x-handlebars" id="item">
	<strong>{{view.item.name}}</strong><button class="button map-button" {{action "addField" this}}>+</button>
	{{#each view.item.fields}}
		<p class='itemField'>{{name}}
		{{#if view.mappingAttribute}}
			<button class="button map-button" {{action "chooseField" this}}>use</button>
		{{/if}}
		</p>
	{{else}}
		<div>No fields defined yet.</div>
	{{/each}}
</script>


</body>